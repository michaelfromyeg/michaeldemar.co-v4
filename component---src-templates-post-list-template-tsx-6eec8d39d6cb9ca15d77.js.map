{"version":3,"file":"component---src-templates-post-list-template-tsx-6eec8d39d6cb9ca15d77.js","mappings":"oOAwEA,EA7CmB,SAAHA,GAAuD,IAAjDC,EAAID,EAAJC,KAAMC,EAAIF,EAAJE,KAClBC,EAAQF,EAAKG,YAAYD,OAASF,EAAKI,OAAOC,KAC9CC,EAAI,IAAOL,EAAOD,EAAKI,OAAOC,KAG9BE,GAAQC,EAAAA,EAAAA,GAASR,EAAKG,YAAYM,eAExC,QAAcC,IAAVH,EACA,MAAM,IAAII,MAAM,mDAAmDT,EAAK,KAG5E,OACIU,EAAAA,cAAA,WAASC,UClCC,kCDmCND,EAAAA,cAAA,cACIA,EAAAA,cAACE,EAAAA,EAAW,CACRP,MAAOA,EACPQ,IAAQb,EAAK,UACbW,UCzCD,oCD2CHD,EAAAA,cAAA,MAAIC,UCxCD,mCDyCCD,EAAAA,cAACI,EAAAA,KAAI,CACDC,MAAO,CAAEC,UAAU,QACnBC,GAAIb,GAEHJ,IAGTU,EAAAA,cAAA,KAAGC,UCrDD,kCDqD0Bb,EAAKG,YAAYiB,OAEjDR,EAAAA,cAAA,WAASC,UCtDA,qCDuDLD,EAAAA,cAAA,KACIS,wBAAyB,CACrBC,OAAQtB,EAAKG,YAAYoB,aAAevB,EAAKwB,WAGrDZ,EAAAA,cAAA,KAAGC,UC1DD,kCD2DED,EAAAA,cAACI,EAAAA,KAAI,CAACC,MAAO,CAAEC,UAAU,QAAWC,GAAIb,GAAM,eAOlE,EEQA,EA/CyB,SAAHP,GAIsB,IAHxC0B,EAAI1B,EAAJ0B,KACAC,EAAW3B,EAAX2B,YACAC,EAAQ5B,EAAR4B,SAKwBzB,EAGpBuB,EAJAG,KACIC,aAAgB3B,MAEQ4B,EAC5BL,EADAM,kBAAqBC,MAIjB/B,EAAgCyB,EAAhCzB,KAAMgC,EAA0BP,EAA1BO,YAAaC,EAAaR,EAAbQ,SAIrBC,EAAOC,KAAKC,IAAIJ,EAAc,EAAGC,GACjCI,EAAOF,KAAKG,IAAIN,EAAc,EAAG,GAEvC,OACIrB,EAAAA,cAAC4B,EAAAA,EAAM,CAACb,SAAUA,EAAUzB,MAAOA,GAC/BU,EAAAA,cAAC6B,EAAAA,EAAG,CAACvC,MAAOD,IACZW,EAAAA,cAAC8B,EAAAA,EAAG,MACJ9B,EAAAA,cAAA,OAAKC,UCvDE,yCDwDFiB,EAAMa,KAAI,SAAAC,EAA8BC,GAAe,IAA1C7C,EAAI4C,EAAJ5C,KACV,OAAOY,EAAAA,cAACkC,EAAU,CAACC,IAAKF,EAAG5C,KAAMA,EAAMD,KAAMA,GACjD,KAEJY,EAAAA,cAAA,OAAKC,UC3DM,6CD4DNoB,EAAc,GACXrB,EAAAA,cAACI,EAAAA,KAAI,CAACG,GAAE,IAAMlB,GAAgB,IAATqC,EAAa,GAAE,IAAOA,IAAS,QAIvDL,EAAc,GAAKA,EAAcC,GAC9BtB,EAAAA,cAAA,iBAEHqB,EAAcC,GACXtB,EAAAA,cAACI,EAAAA,KAAI,CAACG,GAAE,IAAMlB,EAAI,IAAIkC,GAAO,SAKjD,C","sources":["webpack://michaeldemar.co/./src/components/PostHeader/PostHeader.tsx","webpack://michaeldemar.co/./src/components/PostHeader/PostHeader.module.scss","webpack://michaeldemar.co/./src/templates/PostListTemplate.tsx","webpack://michaeldemar.co/./src/templates/PostListTemplate.module.scss"],"sourcesContent":["import React, { ReactElement } from \"react\";\nimport { Link } from \"gatsby\";\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\";\n\nimport * as styles from \"./PostHeader.module.scss\";\n\ninterface PostHeaderProps {\n    type: string;\n    node: {\n        excerpt: string;\n        frontmatter: {\n            title: string;\n            featuredImage: {\n                childImageSharp: {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    fluid: any;\n                };\n            };\n            date: string;\n            description: string;\n        };\n        fields: {\n            slug: string;\n        };\n    };\n}\n\nconst PostHeader = ({ node, type }: PostHeaderProps): ReactElement => {\n    const title = node.frontmatter.title || node.fields.slug;\n    const link = `/${type}${node.fields.slug}`\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const image = getImage(node.frontmatter.featuredImage as any)\n\n    if (image === undefined) {\n        throw new Error(`Could not find header image for post with title ${title}!`)\n    }\n\n    return (\n        <article className={styles.post}>\n            <header>\n                <GatsbyImage\n                    image={image}\n                    alt={`${title} header`}\n                    className={styles.image}\n                />\n                <h3 className={styles.title}>\n                    <Link\n                        style={{ boxShadow: `none` }}\n                        to={link}\n                    >\n                        {title}\n                    </Link>\n                </h3>\n                <p className={styles.date}>{node.frontmatter.date}</p>\n            </header>\n            <section className={styles.excerpt}>\n                <p\n                    dangerouslySetInnerHTML={{\n                        __html: node.frontmatter.description || node.excerpt,\n                    }}\n                />\n                <p className={styles.more}>\n                    <Link style={{ boxShadow: `none` }} to={link}>\n                        Read more\n                    </Link>\n                </p>\n            </section>\n        </article>\n    );\n};\n\nexport default PostHeader;\n","// extracted by mini-css-extract-plugin\nexport var date = \"PostHeader-module--date--RY36m\";\nexport var excerpt = \"PostHeader-module--excerpt--e4BC7\";\nexport var image = \"PostHeader-module--image---PAD4\";\nexport var more = \"PostHeader-module--more--zQm02\";\nexport var post = \"PostHeader-module--post--zjTjL\";\nexport var title = \"PostHeader-module--title--ELi3U\";","import React, { ReactElement, ReactNode } from \"react\";\nimport { graphql, Link } from \"gatsby\";\n\nimport Bio from \"../components/Bio/Bio\";\nimport Format from \"../components/Format/Format\";\nimport SEO from \"../components/SEO/SEO\";\nimport PostHeader from \"../components/PostHeader/PostHeader\";\nimport * as styles from \"./PostListTemplate.module.scss\";\n\ninterface PostListTemplateProps {\n    children?: ReactNode;\n    data: {\n        site: {\n            siteMetadata: {\n                title: string;\n            };\n        };\n        allMarkdownRemark: {\n            edges: {\n                node: unknown;\n            }[];\n        };\n    };\n    pageContext: {\n        type: string;\n        currentPage: number;\n        numPages: number;\n    };\n    location: string;\n}\n\nconst PostListTemplate = ({\n    data,\n    pageContext,\n    location,\n}: PostListTemplateProps): ReactElement => {\n    // Get page title and posts\n    const {\n        site: {\n            siteMetadata: { title },\n        },\n        allMarkdownRemark: { edges: posts },\n    } = data;\n\n    // Get context of which page this is out of the list of pages\n    const { type, currentPage, numPages } = pageContext;\n\n    // Compute next and previous\n    // TODO: could implement fancier pagination hook, but given pages are so small currently, not urgent\n    const next = Math.min(currentPage + 1, numPages);\n    const prev = Math.max(currentPage - 1, 0);\n\n    return (\n        <Format location={location} title={title}>\n            <SEO title={type} />\n            <Bio />\n            <div className={styles.posts}>\n                {posts.map(({ node }: { node: unknown }, i: number) => {\n                    return <PostHeader key={i} type={type} node={node} />;\n                })}\n            </div>\n            <div className={styles.redirects}>\n                {currentPage > 1 && (\n                    <Link to={`/${type}${prev === 1 ? \"\" : `/${prev}`}`}>\n                        {`Back`}\n                    </Link>\n                )}\n                {currentPage > 1 && currentPage < numPages && (\n                    <span>{`â€¢`}</span>\n                )}\n                {currentPage < numPages && (\n                    <Link to={`/${type}/${next}`}>{`Next`}</Link>\n                )}\n            </div>\n        </Format>\n    );\n};\n\nexport default PostListTemplate;\n\nexport const pageQuery = graphql`query postListQuery($skip: Int!, $limit: Int!, $type: String!) {\n  site {\n    siteMetadata {\n      title\n    }\n  }\n  allMarkdownRemark(\n    sort: {fields: [frontmatter___date], order: DESC}\n    filter: {frontmatter: {type: {eq: $type}}}\n    limit: $limit\n    skip: $skip\n  ) {\n    edges {\n      node {\n        excerpt\n        fields {\n          slug\n        }\n        frontmatter {\n          date(formatString: \"MMMM DD, YYYY\")\n          title\n          description\n          featuredImage {\n            childImageSharp {\n              gatsbyImageData(\n                  placeholder: DOMINANT_COLOR\n                  formats: [AUTO, WEBP, AVIF]\n                  layout: CONSTRAINED\n                )\n            }\n          }\n        }\n      }\n    }\n  }\n}\n`;\n","// extracted by mini-css-extract-plugin\nexport var posts = \"PostListTemplate-module--posts--nu+Uk\";\nexport var redirects = \"PostListTemplate-module--redirects--uOMSU\";"],"names":["_ref","node","type","title","frontmatter","fields","slug","link","image","getImage","featuredImage","undefined","Error","React","className","GatsbyImage","alt","Link","style","boxShadow","to","date","dangerouslySetInnerHTML","__html","description","excerpt","data","pageContext","location","site","siteMetadata","posts","allMarkdownRemark","edges","currentPage","numPages","next","Math","min","prev","max","Format","SEO","Bio","map","_ref2","i","PostHeader","key"],"sourceRoot":""}